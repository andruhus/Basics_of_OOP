\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md12}{}\doxysection{Defining a Mock Class}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md12}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_MockClass}{}\doxysubsection{Mocking a Normal Class}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_MockClass}
Given


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{class }Foo \{}
\DoxyCodeLine{  ...}
\DoxyCodeLine{  \textcolor{keyword}{virtual} \string~Foo();}
\DoxyCodeLine{  \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} GetSize() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{  \textcolor{keyword}{virtual} \textcolor{keywordtype}{string} Describe(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* name) = 0;}
\DoxyCodeLine{  \textcolor{keyword}{virtual} \textcolor{keywordtype}{string} Describe(\textcolor{keywordtype}{int} type) = 0;}
\DoxyCodeLine{  \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} Process(Bar elem, \textcolor{keywordtype}{int} count) = 0;}
\DoxyCodeLine{\};}
\end{DoxyCode}


(note that {\ttfamily $\sim$\+Foo()} {\bfseries{must}} be virtual) we can define its mock as


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "{}gmock/gmock.h"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class }MockFoo : \textcolor{keyword}{public} Foo \{}
\DoxyCodeLine{  ...}
\DoxyCodeLine{  MOCK\_METHOD(\textcolor{keywordtype}{int}, GetSize, (), (\textcolor{keyword}{const}, \textcolor{keyword}{override}));}
\DoxyCodeLine{  MOCK\_METHOD(\textcolor{keywordtype}{string}, Describe, (\textcolor{keyword}{const} \textcolor{keywordtype}{char}* name), (\textcolor{keyword}{override}));}
\DoxyCodeLine{  MOCK\_METHOD(\textcolor{keywordtype}{string}, Describe, (\textcolor{keywordtype}{int} type), (\textcolor{keyword}{override}));}
\DoxyCodeLine{  MOCK\_METHOD(\textcolor{keywordtype}{bool}, Process, (Bar elem, \textcolor{keywordtype}{int} count), (\textcolor{keyword}{override}));}
\DoxyCodeLine{\};}
\end{DoxyCode}


To create a \char`\"{}nice\char`\"{} mock, which ignores all uninteresting calls, a \char`\"{}naggy\char`\"{} mock, which warns on all uninteresting calls, or a \char`\"{}strict\char`\"{} mock, which treats them as failures\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{using ::testing::NiceMock;}
\DoxyCodeLine{using ::testing::NaggyMock;}
\DoxyCodeLine{using ::testing::StrictMock;}
\DoxyCodeLine{}
\DoxyCodeLine{NiceMock<MockFoo> nice\_foo;      \textcolor{comment}{// The type is a subclass of MockFoo.}}
\DoxyCodeLine{NaggyMock<MockFoo> naggy\_foo;    \textcolor{comment}{// The type is a subclass of MockFoo.}}
\DoxyCodeLine{StrictMock<MockFoo> strict\_foo;  \textcolor{comment}{// The type is a subclass of MockFoo.}}
\end{DoxyCode}


{\bfseries{Note\+:}} A mock object is currently naggy by default. We may make it nice by default in the future.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_MockTemplate}{}\doxysubsection{Mocking a Class Template}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_MockTemplate}
Class templates can be mocked just like any class.

To mock


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{template} <\textcolor{keyword}{typename} Elem>}
\DoxyCodeLine{\textcolor{keyword}{class }StackInterface \{}
\DoxyCodeLine{  ...}
\DoxyCodeLine{  \textcolor{keyword}{virtual} \string~StackInterface();}
\DoxyCodeLine{  \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} GetSize() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{  \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Push(\textcolor{keyword}{const} Elem\& x) = 0;}
\DoxyCodeLine{\};}
\end{DoxyCode}


(note that all member functions that are mocked, including {\ttfamily $\sim$\+Stack\+Interface()} {\bfseries{must}} be virtual).


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{template} <\textcolor{keyword}{typename} Elem>}
\DoxyCodeLine{\textcolor{keyword}{class }MockStack : \textcolor{keyword}{public} StackInterface<Elem> \{}
\DoxyCodeLine{  ...}
\DoxyCodeLine{  MOCK\_METHOD(\textcolor{keywordtype}{int}, GetSize, (), (\textcolor{keyword}{const}, \textcolor{keyword}{override}));}
\DoxyCodeLine{  MOCK\_METHOD(\textcolor{keywordtype}{void}, Push, (\textcolor{keyword}{const} Elem\& x), (\textcolor{keyword}{override}));}
\DoxyCodeLine{\};}
\end{DoxyCode}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md13}{}\doxysubsection{Specifying Calling Conventions for Mock Functions}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md13}
If your mock function doesn\textquotesingle{}t use the default calling convention, you can specify it by adding {\ttfamily Calltype(convention)} to {\ttfamily M\+O\+C\+K\+\_\+\+M\+E\+T\+H\+OD}\textquotesingle{}s 4th parameter. For example,


\begin{DoxyCode}{0}
\DoxyCodeLine{MOCK\_METHOD(\textcolor{keywordtype}{bool}, Foo, (\textcolor{keywordtype}{int} n), (Calltype(STDMETHODCALLTYPE)));}
\DoxyCodeLine{MOCK\_METHOD(\textcolor{keywordtype}{int}, Bar, (\textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y),}
\DoxyCodeLine{            (\textcolor{keyword}{const}, Calltype(STDMETHODCALLTYPE)));}
\end{DoxyCode}


where {\ttfamily S\+T\+D\+M\+E\+T\+H\+O\+D\+C\+A\+L\+L\+T\+Y\+PE} is defined by {\ttfamily $<$objbase.\+h$>$} on Windows.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_UsingMocks}{}\doxysection{Using Mocks in Tests}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_UsingMocks}
The typical work flow is\+:


\begin{DoxyEnumerate}
\item Import the g\+Mock names you need to use. All g\+Mock symbols are in the {\ttfamily testing} namespace unless they are macros or otherwise noted.
\item Create the mock objects.
\item Optionally, set the default actions of the mock objects.
\item Set your expectations on the mock objects (How will they be called? What will they do?).
\item Exercise code that uses the mock objects; if necessary, check the result using googletest assertions.
\item When a mock object is destructed, g\+Mock automatically verifies that all expectations on it have been satisfied.
\end{DoxyEnumerate}

Here\textquotesingle{}s an example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{using ::testing::Return;                          \textcolor{comment}{// \#1}}
\DoxyCodeLine{}
\DoxyCodeLine{TEST(BarTest, DoesThis) \{}
\DoxyCodeLine{  MockFoo foo;                                    \textcolor{comment}{// \#2}}
\DoxyCodeLine{}
\DoxyCodeLine{  ON\_CALL(foo, GetSize())                         \textcolor{comment}{// \#3}}
\DoxyCodeLine{      .WillByDefault(Return(1));}
\DoxyCodeLine{  \textcolor{comment}{// ... other default actions ...}}
\DoxyCodeLine{}
\DoxyCodeLine{  EXPECT\_CALL(foo, Describe(5))                   \textcolor{comment}{// \#4}}
\DoxyCodeLine{      .Times(3)}
\DoxyCodeLine{      .WillRepeatedly(Return(\textcolor{stringliteral}{"{}Category 5"{}}));}
\DoxyCodeLine{  \textcolor{comment}{// ... other expectations ...}}
\DoxyCodeLine{}
\DoxyCodeLine{  EXPECT\_EQ(\textcolor{stringliteral}{"{}good"{}}, MyProductionFunction(\&foo));  \textcolor{comment}{// \#5}}
\DoxyCodeLine{\}                                                 \textcolor{comment}{// \#6}}
\end{DoxyCode}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_OnCall}{}\doxysection{Setting Default Actions}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_OnCall}
g\+Mock has a {\bfseries{built-\/in default action}} for any function that returns {\ttfamily void}, {\ttfamily bool}, a numeric value, or a pointer. In C++11, it will additionally returns the default-\/constructed value, if one exists for the given type.

To customize the default action for functions with return type $\ast${\ttfamily T}$\ast$\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{using ::testing::DefaultValue;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Sets the default value to be returned. T must be CopyConstructible.}}
\DoxyCodeLine{DefaultValue<T>::Set(value);}
\DoxyCodeLine{\textcolor{comment}{// Sets a factory. Will be invoked on demand. T must be MoveConstructible.}}
\DoxyCodeLine{\textcolor{comment}{//  T MakeT();}}
\DoxyCodeLine{DefaultValue<T>::SetFactory(\&MakeT);}
\DoxyCodeLine{\textcolor{comment}{// ... use the mocks ...}}
\DoxyCodeLine{\textcolor{comment}{// Resets the default value.}}
\DoxyCodeLine{DefaultValue<T>::Clear();}
\end{DoxyCode}


Example usage\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Sets the default action for return type std::unique\_ptr<Buzz> to}}
\DoxyCodeLine{\textcolor{comment}{// creating a new Buzz every time.}}
\DoxyCodeLine{DefaultValue<std::unique\_ptr<Buzz>>::SetFactory(}
\DoxyCodeLine{    [] \{ \textcolor{keywordflow}{return} MakeUnique<Buzz>(AccessLevel::kInternal); \});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// When this fires, the default action of MakeBuzz() will run, which}}
\DoxyCodeLine{\textcolor{comment}{// will return a new Buzz object.}}
\DoxyCodeLine{EXPECT\_CALL(mock\_buzzer\_, MakeBuzz(\textcolor{stringliteral}{"{}hello"{}})).Times(AnyNumber());}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{auto} buzz1 = mock\_buzzer\_.MakeBuzz(\textcolor{stringliteral}{"{}hello"{}});}
\DoxyCodeLine{\textcolor{keyword}{auto} buzz2 = mock\_buzzer\_.MakeBuzz(\textcolor{stringliteral}{"{}hello"{}});}
\DoxyCodeLine{EXPECT\_NE(\textcolor{keyword}{nullptr}, buzz1);}
\DoxyCodeLine{EXPECT\_NE(\textcolor{keyword}{nullptr}, buzz2);}
\DoxyCodeLine{EXPECT\_NE(buzz1, buzz2);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Resets the default action for return type std::unique\_ptr<Buzz>,}}
\DoxyCodeLine{\textcolor{comment}{// to avoid interfere with other tests.}}
\DoxyCodeLine{DefaultValue<std::unique\_ptr<Buzz>>::Clear();}
\end{DoxyCode}


To customize the default action for a particular method of a specific mock object, use {\ttfamily O\+N\+\_\+\+C\+A\+L\+L()}. {\ttfamily O\+N\+\_\+\+C\+A\+L\+L()} has a similar syntax to {\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+C\+A\+L\+L()}, but it is used for setting default behaviors (when you do not require that the mock method is called). See \href{cook_book.md\#UseOnCall}{\texttt{ here}} for a more detailed discussion.


\begin{DoxyCode}{0}
\DoxyCodeLine{ON\_CALL(mock-\/\textcolor{keywordtype}{object}, method(matchers))}
\DoxyCodeLine{    .With(multi-\/argument-\/matcher)   ?}
\DoxyCodeLine{    .WillByDefault(action);}
\end{DoxyCode}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_ExpectCall}{}\doxysection{Setting Expectations}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_ExpectCall}
{\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+C\+A\+L\+L()} sets {\bfseries{expectations}} on a mock method (How will it be called? What will it do?)\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{EXPECT\_CALL(mock-\/\textcolor{keywordtype}{object}, method (matchers)?)}
\DoxyCodeLine{     .With(multi-\/argument-\/matcher)  ?}
\DoxyCodeLine{     .Times(cardinality)            ?}
\DoxyCodeLine{     .InSequence(sequences)         *}
\DoxyCodeLine{     .After(expectations)           *}
\DoxyCodeLine{     .WillOnce(action)              *}
\DoxyCodeLine{     .WillRepeatedly(action)        ?}
\DoxyCodeLine{     .RetiresOnSaturation();        ?}
\end{DoxyCode}


For each item above, {\ttfamily ?} means it can be used at most once, while {\ttfamily $\ast$} means it can be used any number of times.

In order to pass, {\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+C\+A\+LL} must be used before the calls are actually made.

The {\ttfamily (matchers)} is a comma-\/separated list of matchers that correspond to each of the arguments of {\ttfamily method}, and sets the expectation only for calls of {\ttfamily method} that matches all of the matchers.

If {\ttfamily (matchers)} is omitted, the expectation is the same as if the matchers were set to anything matchers (for example, {\ttfamily (\+\_\+, \+\_\+, \+\_\+, \+\_\+)} for a four-\/arg method).

If {\ttfamily Times()} is omitted, the cardinality is assumed to be\+:


\begin{DoxyItemize}
\item {\ttfamily Times(1)} when there is neither {\ttfamily Will\+Once()} nor {\ttfamily Will\+Repeatedly()};
\item {\ttfamily Times(n)} when there are {\ttfamily n} {\ttfamily Will\+Once()}s but no {\ttfamily Will\+Repeatedly()}, where {\ttfamily n} $>$= 1; or
\item {\ttfamily Times(\+At\+Least(n))} when there are {\ttfamily n} {\ttfamily Will\+Once()}s and a {\ttfamily Will\+Repeatedly()}, where {\ttfamily n} $>$= 0.
\end{DoxyItemize}

A method with no {\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+C\+A\+L\+L()} is free to be invoked {\itshape any number of times}, and the default action will be taken each time.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_MatcherList}{}\doxysection{Matchers}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_MatcherList}
A {\bfseries{matcher}} matches a {\itshape single} argument. You can use it inside {\ttfamily O\+N\+\_\+\+C\+A\+L\+L()} or {\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+C\+A\+L\+L()}, or use it to validate a value directly using two macros\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Macro  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Macro  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+T\+H\+A\+T(actual\+\_\+value, matcher)}  &Asserts that {\ttfamily actual\+\_\+value} matches {\ttfamily matcher}.   \\\cline{1-2}
{\ttfamily A\+S\+S\+E\+R\+T\+\_\+\+T\+H\+A\+T(actual\+\_\+value, matcher)}  &The same as {\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+T\+H\+A\+T(actual\+\_\+value, matcher)}, except that it generates a {\bfseries{fatal}} failure.   \\\cline{1-2}
\end{longtabu}


{\bfseries{Note\+:}} Although equality matching via {\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+T\+H\+AT(actual\+\_\+value, expected\+\_\+value)} is supported, prefer to make the comparison explicit via {\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+T\+H\+A\+T(actual\+\_\+value, Eq(expected\+\_\+value))} or {\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+EQ(actual\+\_\+value, expected\+\_\+value)}.

Built-\/in matchers (where {\ttfamily argument} is the function argument, e.\+g. {\ttfamily actual\+\_\+value} in the example above, or when used in the context of {\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+C\+A\+L\+L(mock\+\_\+object, method(matchers))}, the arguments of {\ttfamily method}) are divided into several categories\+:\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md14}{}\doxysubsection{Wildcard}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md14}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily \+\_\+}  &{\ttfamily argument} can be any value of the correct type.   \\\cline{1-2}
{\ttfamily A$<$type$>$()} or {\ttfamily An$<$type$>$()}  &{\ttfamily argument} can be any value of type {\ttfamily type}.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md15}{}\doxysubsection{Generic Comparison}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md15}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily Eq(value)} or {\ttfamily value}  &{\ttfamily argument == value}   \\\cline{1-2}
{\ttfamily Ge(value)}  &{\ttfamily argument $>$= value}   \\\cline{1-2}
{\ttfamily Gt(value)}  &{\ttfamily argument $>$ value}   \\\cline{1-2}
{\ttfamily Le(value)}  &{\ttfamily argument $<$= value}   \\\cline{1-2}
{\ttfamily Lt(value)}  &{\ttfamily argument $<$ value}   \\\cline{1-2}
{\ttfamily Ne(value)}  &{\ttfamily argument != value}   \\\cline{1-2}
{\ttfamily Is\+False()}  &{\ttfamily argument} evaluates to {\ttfamily false} in a Boolean context.   \\\cline{1-2}
{\ttfamily Is\+True()}  &{\ttfamily argument} evaluates to {\ttfamily true} in a Boolean context.   \\\cline{1-2}
{\ttfamily Is\+Null()}  &{\ttfamily argument} is a {\ttfamily N\+U\+LL} pointer (raw or smart).   \\\cline{1-2}
{\ttfamily Not\+Null()}  &{\ttfamily argument} is a non-\/null pointer (raw or smart).   \\\cline{1-2}
{\ttfamily Optional(m)}  &{\ttfamily argument} is {\ttfamily optional$<$$>$} that contains a value matching {\ttfamily m}. (For testing whether an {\ttfamily optional$<$$>$} is set, check for equality with {\ttfamily nullopt}. You may need to use {\ttfamily Eq(nullopt)} if the inner type doesn\textquotesingle{}t have {\ttfamily ==}.)   \\\cline{1-2}
{\ttfamily Variant\+With$<$T$>$(m)}  &{\ttfamily argument} is {\ttfamily variant$<$$>$} that holds the alternative of type T with a value matching {\ttfamily m}.   \\\cline{1-2}
{\ttfamily Ref(variable)}  &{\ttfamily argument} is a reference to {\ttfamily variable}.   \\\cline{1-2}
{\ttfamily Typed\+Eq$<$type$>$(value)}  &{\ttfamily argument} has type {\ttfamily type} and is equal to {\ttfamily value}. You may need to use this instead of {\ttfamily Eq(value)} when the mock function is overloaded.   \\\cline{1-2}
\end{longtabu}


Except {\ttfamily Ref()}, these matchers make a {\itshape copy} of {\ttfamily value} in case it\textquotesingle{}s modified or destructed later. If the compiler complains that {\ttfamily value} doesn\textquotesingle{}t have a public copy constructor, try wrap it in {\ttfamily std\+::ref()}, e.\+g. {\ttfamily Eq(std\+::ref(non\+\_\+copyable\+\_\+value))}. If you do that, make sure {\ttfamily non\+\_\+copyable\+\_\+value} is not changed afterwards, or the meaning of your matcher will be changed.

{\ttfamily Is\+True} and {\ttfamily Is\+False} are useful when you need to use a matcher, or for types that can be explicitly converted to Boolean, but are not implicitly converted to Boolean. In other cases, you can use the basic \href{../../googletest/docs/primer\#basic-assertions}{\texttt{ {\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+T\+R\+UE} and {\ttfamily E\+X\+P\+E\+C\+T\+\_\+\+F\+A\+L\+SE}}} assertions.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_FpMatchers}{}\doxysubsection{Floating-\/\+Point Matchers}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_FpMatchers}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily Double\+Eq(a\+\_\+double)}  &{\ttfamily argument} is a {\ttfamily double} value approximately equal to {\ttfamily a\+\_\+double}, treating two Na\+Ns as unequal.   \\\cline{1-2}
{\ttfamily Float\+Eq(a\+\_\+float)}  &{\ttfamily argument} is a {\ttfamily float} value approximately equal to {\ttfamily a\+\_\+float}, treating two Na\+Ns as unequal.   \\\cline{1-2}
{\ttfamily Nan\+Sensitive\+Double\+Eq(a\+\_\+double)}  &{\ttfamily argument} is a {\ttfamily double} value approximately equal to {\ttfamily a\+\_\+double}, treating two Na\+Ns as equal.   \\\cline{1-2}
{\ttfamily Nan\+Sensitive\+Float\+Eq(a\+\_\+float)}  &{\ttfamily argument} is a {\ttfamily float} value approximately equal to {\ttfamily a\+\_\+float}, treating two Na\+Ns as equal.   \\\cline{1-2}
{\ttfamily Is\+Nan()}  &{\ttfamily argument} is any floating-\/point type with a NaN value.   \\\cline{1-2}
\end{longtabu}


The above matchers use U\+L\+P-\/based comparison (the same as used in googletest). They automatically pick a reasonable error bound based on the absolute value of the expected value. {\ttfamily Double\+Eq()} and {\ttfamily Float\+Eq()} conform to the I\+E\+EE standard, which requires comparing two Na\+Ns for equality to return false. The {\ttfamily Nan\+Sensitive$\ast$} version instead treats two Na\+Ns as equal, which is often what a user wants.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily Double\+Near(a\+\_\+double, max\+\_\+abs\+\_\+error)}  &{\ttfamily argument} is a {\ttfamily double} value close to {\ttfamily a\+\_\+double} (absolute error $<$= {\ttfamily max\+\_\+abs\+\_\+error}), treating two Na\+Ns as unequal.   \\\cline{1-2}
{\ttfamily Float\+Near(a\+\_\+float, max\+\_\+abs\+\_\+error)}  &{\ttfamily argument} is a {\ttfamily float} value close to {\ttfamily a\+\_\+float} (absolute error $<$= {\ttfamily max\+\_\+abs\+\_\+error}), treating two Na\+Ns as unequal.   \\\cline{1-2}
{\ttfamily Nan\+Sensitive\+Double\+Near(a\+\_\+double, max\+\_\+abs\+\_\+error)}  &{\ttfamily argument} is a {\ttfamily double} value close to {\ttfamily a\+\_\+double} (absolute error $<$= {\ttfamily max\+\_\+abs\+\_\+error}), treating two Na\+Ns as equal.   \\\cline{1-2}
{\ttfamily Nan\+Sensitive\+Float\+Near(a\+\_\+float, max\+\_\+abs\+\_\+error)}  &{\ttfamily argument} is a {\ttfamily float} value close to {\ttfamily a\+\_\+float} (absolute error $<$= {\ttfamily max\+\_\+abs\+\_\+error}), treating two Na\+Ns as equal.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md16}{}\doxysubsection{String Matchers}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md16}
The {\ttfamily argument} can be either a C string or a C++ string object\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily Contains\+Regex(string)}  &{\ttfamily argument} matches the given regular expression.   \\\cline{1-2}
{\ttfamily Ends\+With(suffix)}  &{\ttfamily argument} ends with string {\ttfamily suffix}.   \\\cline{1-2}
{\ttfamily Has\+Substr(string)}  &{\ttfamily argument} contains {\ttfamily string} as a sub-\/string.   \\\cline{1-2}
{\ttfamily Matches\+Regex(string)}  &{\ttfamily argument} matches the given regular expression with the match starting at the first character and ending at the last character.   \\\cline{1-2}
{\ttfamily Starts\+With(prefix)}  &{\ttfamily argument} starts with string {\ttfamily prefix}.   \\\cline{1-2}
{\ttfamily Str\+Case\+Eq(string)}  &{\ttfamily argument} is equal to {\ttfamily string}, ignoring case.   \\\cline{1-2}
{\ttfamily Str\+Case\+Ne(string)}  &{\ttfamily argument} is not equal to {\ttfamily string}, ignoring case.   \\\cline{1-2}
{\ttfamily Str\+Eq(string)}  &{\ttfamily argument} is equal to {\ttfamily string}.   \\\cline{1-2}
{\ttfamily Str\+Ne(string)}  &{\ttfamily argument} is not equal to {\ttfamily string}.   \\\cline{1-2}
\end{longtabu}


{\ttfamily Contains\+Regex()} and {\ttfamily Matches\+Regex()} take ownership of the {\ttfamily RE} object. They use the regular expression syntax defined \href{../../googletest/docs/advanced.md\#regular-expression-syntax}{\texttt{ here}}. All of these matchers, except {\ttfamily Contains\+Regex()} and {\ttfamily Matches\+Regex()} work for wide strings as well.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md17}{}\doxysubsection{Container Matchers}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md17}
Most S\+T\+L-\/style containers support {\ttfamily ==}, so you can use {\ttfamily Eq(expected\+\_\+container)} or simply {\ttfamily expected\+\_\+container} to match a container exactly. If you want to write the elements in-\/line, match them more flexibly, or get more informative messages, you can use\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily Begin\+End\+Distance\+Is(m)}  &{\ttfamily argument} is a container whose {\ttfamily begin()} and {\ttfamily end()} iterators are separated by a number of increments matching {\ttfamily m}. E.\+g. {\ttfamily Begin\+End\+Distance\+Is(2)} or {\ttfamily Begin\+End\+Distance\+Is(\+Lt(2))}. For containers that define a {\ttfamily size()} method, {\ttfamily Size\+Is(m)} may be more efficient.   \\\cline{1-2}
{\ttfamily Container\+Eq(container)}  &The same as {\ttfamily Eq(container)} except that the failure message also includes which elements are in one container but not the other.   \\\cline{1-2}
{\ttfamily Contains(e)}  &{\ttfamily argument} contains an element that matches {\ttfamily e}, which can be either a value or a matcher.   \\\cline{1-2}
{\ttfamily Each(e)}  &{\ttfamily argument} is a container where {\itshape every} element matches {\ttfamily e}, which can be either a value or a matcher.   \\\cline{1-2}
{\ttfamily Elements\+Are(e0, e1, ..., en)}  &{\ttfamily argument} has {\ttfamily n + 1} elements, where the {\itshape i}-\/th element matches {\ttfamily ei}, which can be a value or a matcher.   \\\cline{1-2}
{\ttfamily Elements\+Are\+Array(\{e0, e1, ..., en\})}, {\ttfamily Elements\+Are\+Array(a\+\_\+container)}, {\ttfamily Elements\+Are\+Array(begin, end)}, {\ttfamily Elements\+Are\+Array(array)}, or {\ttfamily Elements\+Are\+Array(array, count)}  &The same as {\ttfamily Elements\+Are()} except that the expected element values/matchers come from an initializer list, S\+T\+L-\/style container, iterator range, or C-\/style array.   \\\cline{1-2}
{\ttfamily Is\+Empty()}  &{\ttfamily argument} is an empty container ({\ttfamily container.\+empty()}).   \\\cline{1-2}
{\ttfamily Is\+Subset\+Of(\{e0, e1, ..., en\})}, {\ttfamily Is\+Subset\+Of(a\+\_\+container)}, {\ttfamily Is\+Subset\+Of(begin, end)}, {\ttfamily Is\+Subset\+Of(array)}, or {\ttfamily Is\+Subset\+Of(array, count)}  &{\ttfamily argument} matches {\ttfamily Unordered\+Elements\+Are(x0, x1, ..., xk)} for some subset {\ttfamily \{x0, x1, ..., xk\}} of the expected matchers.   \\\cline{1-2}
{\ttfamily Is\+Superset\+Of(\{e0, e1, ..., en\})}, {\ttfamily Is\+Superset\+Of(a\+\_\+container)}, {\ttfamily Is\+Superset\+Of(begin, end)}, {\ttfamily Is\+Superset\+Of(array)}, or {\ttfamily Is\+Superset\+Of(array, count)}  &Some subset of {\ttfamily argument} matches {\ttfamily Unordered\+Elements\+Are(}expected matchers{\ttfamily )}.   \\\cline{1-2}
{\ttfamily Pointwise(m, container)}, {\ttfamily Pointwise(m, \{e0, e1, ..., en\})}  &{\ttfamily argument} contains the same number of elements as in {\ttfamily container}, and for all i, (the i-\/th element in {\ttfamily argument}, the i-\/th element in {\ttfamily container}) match {\ttfamily m}, which is a matcher on 2-\/tuples. E.\+g. {\ttfamily Pointwise(\+Le(), upper\+\_\+bounds)} verifies that each element in {\ttfamily argument} doesn\textquotesingle{}t exceed the corresponding element in {\ttfamily upper\+\_\+bounds}. See more detail below.   \\\cline{1-2}
{\ttfamily Size\+Is(m)}  &{\ttfamily argument} is a container whose size matches {\ttfamily m}. E.\+g. {\ttfamily Size\+Is(2)} or {\ttfamily Size\+Is(\+Lt(2))}.   \\\cline{1-2}
{\ttfamily Unordered\+Elements\+Are(e0, e1, ..., en)}  &{\ttfamily argument} has {\ttfamily n + 1} elements, and under {\itshape some} permutation of the elements, each element matches an {\ttfamily ei} (for a different {\ttfamily i}), which can be a value or a matcher.   \\\cline{1-2}
{\ttfamily Unordered\+Elements\+Are\+Array(\{e0, e1, ..., en\})}, {\ttfamily Unordered\+Elements\+Are\+Array(a\+\_\+container)}, {\ttfamily Unordered\+Elements\+Are\+Array(begin, end)}, {\ttfamily Unordered\+Elements\+Are\+Array(array)}, or {\ttfamily Unordered\+Elements\+Are\+Array(array, count)}  &The same as {\ttfamily Unordered\+Elements\+Are()} except that the expected element values/matchers come from an initializer list, S\+T\+L-\/style container, iterator range, or C-\/style array.   \\\cline{1-2}
{\ttfamily Unordered\+Pointwise(m, container)}, {\ttfamily Unordered\+Pointwise(m, \{e0, e1, ..., en\})}  &Like {\ttfamily Pointwise(m, container)}, but ignores the order of elements.   \\\cline{1-2}
{\ttfamily When\+Sorted(m)}  &When {\ttfamily argument} is sorted using the {\ttfamily $<$} operator, it matches container matcher {\ttfamily m}. E.\+g. {\ttfamily When\+Sorted(\+Elements\+Are(1, 2, 3))} verifies that {\ttfamily argument} contains elements 1, 2, and 3, ignoring order.   \\\cline{1-2}
{\ttfamily When\+Sorted\+By(comparator, m)}  &The same as {\ttfamily When\+Sorted(m)}, except that the given comparator instead of {\ttfamily $<$} is used to sort {\ttfamily argument}. E.\+g. {\ttfamily When\+Sorted\+By(std\+::greater(), Elements\+Are(3, 2, 1))}.   \\\cline{1-2}
\end{longtabu}


{\bfseries{Notes\+:}}


\begin{DoxyItemize}
\item These matchers can also match\+:
\begin{DoxyEnumerate}
\item a native array passed by reference (e.\+g. in {\ttfamily Foo(const int (\&a)\mbox{[}5\mbox{]})}), and
\item an array passed as a pointer and a count (e.\+g. in {\ttfamily Bar(const T$\ast$ buffer, int len)} -- see \href{\#MultiArgMatchers}{\texttt{ Multi-\/argument Matchers}}).
\end{DoxyEnumerate}
\item The array being matched may be multi-\/dimensional (i.\+e. its elements can be arrays).
\item {\ttfamily m} in {\ttfamily Pointwise(m, ...)} should be a matcher for {\ttfamily \+::std\+::tuple$<$T, U$>$} where {\ttfamily T} and {\ttfamily U} are the element type of the actual container and the expected container, respectively. For example, to compare two {\ttfamily Foo} containers where {\ttfamily Foo} doesn\textquotesingle{}t support {\ttfamily operator==}, one might write\+:

\`{}\`{}\`{}cpp using \+::std\+::get; M\+A\+T\+C\+H\+ER(Foo\+Eq, \char`\"{}\char`\"{}) \{ return std\+::get$<$0$>$(arg).Equals(std\+::get$<$1$>$(arg)); \} ... E\+X\+P\+E\+C\+T\+\_\+\+T\+H\+AT(actual\+\_\+foos, Pointwise(\+Foo\+Eq(), expected\+\_\+foos)); \`{}\`{}\`{}
\end{DoxyItemize}\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md18}{}\doxysubsection{Member Matchers}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md18}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily Field(\&class\+::field, m)}  &{\ttfamily argument.\+field} (or {\ttfamily argument-\/$>$field} when {\ttfamily argument} is a plain pointer) matches matcher {\ttfamily m}, where {\ttfamily argument} is an object of type {\itshape class}.   \\\cline{1-2}
{\ttfamily Key(e)}  &{\ttfamily argument.\+first} matches {\ttfamily e}, which can be either a value or a matcher. E.\+g. {\ttfamily Contains(Key(\+Le(5)))} can verify that a {\ttfamily map} contains a key {\ttfamily $<$= 5}.   \\\cline{1-2}
{\ttfamily Pair(m1, m2)}  &{\ttfamily argument} is an {\ttfamily std\+::pair} whose {\ttfamily first} field matches {\ttfamily m1} and {\ttfamily second} field matches {\ttfamily m2}.   \\\cline{1-2}
{\ttfamily Property(\&class\+::property, m)}  &{\ttfamily argument.\+property()} (or {\ttfamily argument-\/$>$property()} when {\ttfamily argument} is a plain pointer) matches matcher {\ttfamily m}, where {\ttfamily argument} is an object of type {\itshape class}.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md19}{}\doxysubsection{Matching the Result of a Function, Functor, or Callback}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md19}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily Result\+Of(f, m)}  &{\ttfamily f(argument)} matches matcher {\ttfamily m}, where {\ttfamily f} is a function or functor.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md20}{}\doxysubsection{Pointer Matchers}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md20}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily Pointee(m)}  &{\ttfamily argument} (either a smart pointer or a raw pointer) points to a value that matches matcher {\ttfamily m}.   \\\cline{1-2}
{\ttfamily When\+Dynamic\+Cast\+To$<$T$>$(m)}  &when {\ttfamily argument} is passed through {\ttfamily dynamic\+\_\+cast$<$T$>$()}, it matches matcher {\ttfamily m}.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_MultiArgMatchers}{}\doxysubsection{Multi-\/argument Matchers}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_MultiArgMatchers}
Technically, all matchers match a {\itshape single} value. A \char`\"{}multi-\/argument\char`\"{} matcher is just one that matches a {\itshape tuple}. The following matchers can be used to match a tuple {\ttfamily (x, y)}\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily Eq()}  &{\ttfamily x == y}   \\\cline{1-2}
{\ttfamily Ge()}  &{\ttfamily x $>$= y}   \\\cline{1-2}
{\ttfamily Gt()}  &{\ttfamily x $>$ y}   \\\cline{1-2}
{\ttfamily Le()}  &{\ttfamily x $<$= y}   \\\cline{1-2}
{\ttfamily Lt()}  &{\ttfamily x $<$ y}   \\\cline{1-2}
{\ttfamily Ne()}  &{\ttfamily x != y}   \\\cline{1-2}
\end{longtabu}


You can use the following selectors to pick a subset of the arguments (or reorder them) to participate in the matching\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily All\+Args(m)}  &Equivalent to {\ttfamily m}. Useful as syntactic sugar in {\ttfamily .With(\+All\+Args(m))}.   \\\cline{1-2}
{\ttfamily Args$<$N1, N2, ..., Nk$>$(m)}  &The tuple of the {\ttfamily k} selected (using 0-\/based indices) arguments matches {\ttfamily m}, e.\+g. {\ttfamily Args$<$1, 2$>$(Eq())}.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md21}{}\doxysubsection{Composite Matchers}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md21}
You can make a matcher from one or more other matchers\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily All\+Of(m1, m2, ..., mn)}  &{\ttfamily argument} matches all of the matchers {\ttfamily m1} to {\ttfamily mn}.   \\\cline{1-2}
{\ttfamily All\+Of\+Array(\{m0, m1, ..., mn\})}, {\ttfamily All\+Of\+Array(a\+\_\+container)}, {\ttfamily All\+Of\+Array(begin, end)}, {\ttfamily All\+Of\+Array(array)}, or {\ttfamily All\+Of\+Array(array, count)}  &The same as {\ttfamily All\+Of()} except that the matchers come from an initializer list, S\+T\+L-\/style container, iterator range, or C-\/style array.   \\\cline{1-2}
{\ttfamily Any\+Of(m1, m2, ..., mn)}  &{\ttfamily argument} matches at least one of the matchers {\ttfamily m1} to {\ttfamily mn}.   \\\cline{1-2}
{\ttfamily Any\+Of\+Array(\{m0, m1, ..., mn\})}, {\ttfamily Any\+Of\+Array(a\+\_\+container)}, {\ttfamily Any\+Of\+Array(begin, end)}, {\ttfamily Any\+Of\+Array(array)}, or {\ttfamily Any\+Of\+Array(array, count)}  &The same as {\ttfamily Any\+Of()} except that the matchers come from an initializer list, S\+T\+L-\/style container, iterator range, or C-\/style array.   \\\cline{1-2}
{\ttfamily Not(m)}  &{\ttfamily argument} doesn\textquotesingle{}t match matcher {\ttfamily m}.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md22}{}\doxysubsection{Adapters for Matchers}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md22}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily Matcher\+Cast$<$T$>$(m)}  &casts matcher {\ttfamily m} to type {\ttfamily Matcher$<$T$>$}.   \\\cline{1-2}
{\ttfamily Safe\+Matcher\+Cast$<$T$>$(m)}  &\href{cook_book.md\#casting-matchers}{\texttt{ safely casts}} matcher {\ttfamily m} to type {\ttfamily Matcher$<$T$>$}.   \\\cline{1-2}
{\ttfamily Truly(predicate)}  &{\ttfamily predicate(argument)} returns something considered by C++ to be true, where {\ttfamily predicate} is a function or functor.   \\\cline{1-2}
\end{longtabu}


{\ttfamily Address\+Satisfies(callback)} and {\ttfamily Truly(callback)} take ownership of {\ttfamily callback}, which must be a permanent callback.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_MatchersAsPredicatesCheat}{}\doxysubsection{Using Matchers as Predicates}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_MatchersAsPredicatesCheat}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily Matches(m)(value)}  &evaluates to {\ttfamily true} if {\ttfamily value} matches {\ttfamily m}. You can use {\ttfamily Matches(m)} alone as a unary functor.   \\\cline{1-2}
{\ttfamily Explain\+Match\+Result(m, value, result\+\_\+listener)}  &evaluates to {\ttfamily true} if {\ttfamily value} matches {\ttfamily m}, explaining the result to {\ttfamily result\+\_\+listener}.   \\\cline{1-2}
{\ttfamily Value(value, m)}  &evaluates to {\ttfamily true} if {\ttfamily value} matches {\ttfamily m}.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md23}{}\doxysubsection{Defining Matchers}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md23}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily M\+A\+T\+C\+H\+ER(Is\+Even, \char`\"{}\char`\"{}) \{ return (arg \% 2) == 0; \}}  &Defines a matcher {\ttfamily Is\+Even()} to match an even number.   \\\cline{1-2}
{\ttfamily M\+A\+T\+C\+H\+E\+R\+\_\+P(Is\+Divisible\+By, n, \char`\"{}\char`\"{}) \{ $\ast$result\+\_\+listener $<$$<$ \char`\"{}where the remainder is \char`\"{} $<$$<$ (arg \% n); return (arg \% n) == 0; \}}  &Defines a matcher {\ttfamily Is\+Divisible\+By(n)} to match a number divisible by {\ttfamily n}.   \\\cline{1-2}
{\ttfamily M\+A\+T\+C\+H\+E\+R\+\_\+\+P2(Is\+Between, a, b, std\+::string(negation ? \char`\"{}isn\textquotesingle{}t\char`\"{} \+: \char`\"{}is\char`\"{}) + \char`\"{} between \char`\"{} + Print\+To\+String(a) + \char`\"{} and \char`\"{} + Print\+To\+String(b)) \{ return a $<$= arg \&\& arg $<$= b; \}}  &Defines a matcher {\ttfamily Is\+Between(a, b)} to match a value in the range \mbox{[}{\ttfamily a}, {\ttfamily b}\mbox{]}.   \\\cline{1-2}
\end{longtabu}


{\bfseries{Notes\+:}}


\begin{DoxyEnumerate}
\item The {\ttfamily M\+A\+T\+C\+H\+E\+R$\ast$} macros cannot be used inside a function or class.
\item The matcher body must be {\itshape purely functional} (i.\+e. it cannot have any side effect, and the result must not depend on anything other than the value being matched and the matcher parameters).
\item You can use {\ttfamily Print\+To\+String(x)} to convert a value {\ttfamily x} of any type to a string.
\end{DoxyEnumerate}\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_ActionList}{}\doxysection{Actions}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_ActionList}
{\bfseries{Actions}} specify what a mock function should do when invoked.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md24}{}\doxysubsection{Returning a Value}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md24}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ }&\cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ }&\cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-2}
\endhead
{\ttfamily Return()}  &Return from a {\ttfamily void} mock function.   \\\cline{1-2}
{\ttfamily Return(value)}  &Return {\ttfamily value}. If the type of {\ttfamily value} is different to the mock function\textquotesingle{}s return type, {\ttfamily value} is converted to the latter type {\itshape at the time the expectation is set}, not when the action is executed.   \\\cline{1-2}
{\ttfamily Return\+Arg$<$N$>$()}  &Return the {\ttfamily N}-\/th (0-\/based) argument.   \\\cline{1-2}
{\ttfamily Return\+New$<$T$>$(a1, ..., ak)}  &Return {\ttfamily new T(a1, ..., ak)}; a different object is created each time.   \\\cline{1-2}
{\ttfamily Return\+Null()}  &Return a null pointer.   \\\cline{1-2}
{\ttfamily Return\+Pointee(ptr)}  &Return the value pointed to by {\ttfamily ptr}.   \\\cline{1-2}
{\ttfamily Return\+Ref(variable)}  &Return a reference to {\ttfamily variable}.   \\\cline{1-2}
{\ttfamily Return\+Ref\+Of\+Copy(value)}  &Return a reference to a copy of {\ttfamily value}; the copy lives as long as the action.   \\\cline{1-2}
{\ttfamily Return\+Round\+Robin(\{a1, ..., ak\})}  &Each call will return the next {\ttfamily ai} in the list, starting at the beginning when the end of the list is reached.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md25}{}\doxysubsection{Side Effects}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md25}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ }&\cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ }&\cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-2}
\endhead
{\ttfamily Assign(\&variable, value)}  &Assign {\ttfamily value} to variable.   \\\cline{1-2}
{\ttfamily Delete\+Arg$<$N$>$()}  &Delete the {\ttfamily N}-\/th (0-\/based) argument, which must be a pointer.   \\\cline{1-2}
{\ttfamily Save\+Arg$<$N$>$(pointer)}  &Save the {\ttfamily N}-\/th (0-\/based) argument to {\ttfamily $\ast$pointer}.   \\\cline{1-2}
{\ttfamily Save\+Arg\+Pointee$<$N$>$(pointer)}  &Save the value pointed to by the {\ttfamily N}-\/th (0-\/based) argument to {\ttfamily $\ast$pointer}.   \\\cline{1-2}
{\ttfamily Set\+Arg\+Referee$<$N$>$(value)}  &Assign value to the variable referenced by the {\ttfamily N}-\/th (0-\/based) argument.   \\\cline{1-2}
{\ttfamily Set\+Arg\+Pointee$<$N$>$(value)}  &Assign {\ttfamily value} to the variable pointed by the {\ttfamily N}-\/th (0-\/based) argument.   \\\cline{1-2}
{\ttfamily Set\+Argument\+Pointee$<$N$>$(value)}  &Same as {\ttfamily Set\+Arg\+Pointee$<$N$>$(value)}. Deprecated. Will be removed in v1.\+7.\+0.   \\\cline{1-2}
{\ttfamily Set\+Array\+Argument$<$N$>$(first, last)}  &Copies the elements in source range \mbox{[}{\ttfamily first}, {\ttfamily last}) to the array pointed to by the {\ttfamily N}-\/th (0-\/based) argument, which can be either a pointer or an iterator. The action does not take ownership of the elements in the source range.   \\\cline{1-2}
{\ttfamily Set\+Errno\+And\+Return(error, value)}  &Set {\ttfamily errno} to {\ttfamily error} and return {\ttfamily value}.   \\\cline{1-2}
{\ttfamily Throw(exception)}  &Throws the given exception, which can be any copyable value. Available since v1.\+1.\+0.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md26}{}\doxysubsection{Using a Function, Functor, or Lambda as an Action}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md26}
In the following, by \char`\"{}callable\char`\"{} we mean a free function, {\ttfamily std\+::function}, functor, or lambda.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ }&\cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ }&\cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-2}
\endhead
{\ttfamily f}  &Invoke f with the arguments passed to the mock function, where f is a callable.   \\\cline{1-2}
{\ttfamily Invoke(f)}  &Invoke {\ttfamily f} with the arguments passed to the mock function, where {\ttfamily f} can be a global/static function or a functor.   \\\cline{1-2}
{\ttfamily Invoke(object\+\_\+pointer, \&class\+::method)}  &Invoke the method on the object with the arguments passed to the mock function.   \\\cline{1-2}
{\ttfamily Invoke\+Without\+Args(f)}  &Invoke {\ttfamily f}, which can be a global/static function or a functor. {\ttfamily f} must take no arguments.   \\\cline{1-2}
{\ttfamily Invoke\+Without\+Args(object\+\_\+pointer, \&class\+::method)}  &Invoke the method on the object, which takes no arguments.   \\\cline{1-2}
{\ttfamily Invoke\+Argument$<$N$>$(arg1, arg2, ..., argk)}  &Invoke the mock function\textquotesingle{}s {\ttfamily N}-\/th (0-\/based) argument, which must be a function or a functor, with the {\ttfamily k} arguments.   \\\cline{1-2}
\end{longtabu}


The return value of the invoked function is used as the return value of the action.

When defining a callable to be used with {\ttfamily Invoke$\ast$()}, you can declare any unused parameters as {\ttfamily Unused}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{using ::testing::Invoke;}
\DoxyCodeLine{\textcolor{keywordtype}{double} Distance(Unused, \textcolor{keywordtype}{double} x, \textcolor{keywordtype}{double} y) \{ \textcolor{keywordflow}{return} sqrt(x*x + y*y); \}}
\DoxyCodeLine{...}
\DoxyCodeLine{EXPECT\_CALL(mock, Foo(\textcolor{stringliteral}{"{}Hi"{}}, \_, \_)).WillOnce(Invoke(Distance));}
\end{DoxyCode}


{\ttfamily Invoke(callback)} and {\ttfamily Invoke\+Without\+Args(callback)} take ownership of {\ttfamily callback}, which must be permanent. The type of {\ttfamily callback} must be a base callback type instead of a derived one, e.\+g.


\begin{DoxyCode}{0}
\DoxyCodeLine{BlockingClosure* done = \textcolor{keyword}{new} BlockingClosure;}
\DoxyCodeLine{... Invoke(done) ...;  \textcolor{comment}{// This won't compile!}}
\DoxyCodeLine{}
\DoxyCodeLine{Closure* done2 = \textcolor{keyword}{new} BlockingClosure;}
\DoxyCodeLine{... Invoke(done2) ...;  \textcolor{comment}{// This works.}}
\end{DoxyCode}


In {\ttfamily Invoke\+Argument$<$N$>$(...)}, if an argument needs to be passed by reference, wrap it inside {\ttfamily std\+::ref()}. For example,


\begin{DoxyCode}{0}
\DoxyCodeLine{using ::testing::InvokeArgument;}
\DoxyCodeLine{...}
\DoxyCodeLine{InvokeArgument<2>(5, string(\textcolor{stringliteral}{"{}Hi"{}}), std::ref(foo))}
\end{DoxyCode}


calls the mock function\textquotesingle{}s \#2 argument, passing to it {\ttfamily 5} and {\ttfamily string(\char`\"{}\+Hi\char`\"{})} by value, and {\ttfamily foo} by reference.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md27}{}\doxysubsection{Default Action}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md27}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Matcher  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily Do\+Default()}  &Do the default action (specified by {\ttfamily O\+N\+\_\+\+C\+A\+L\+L()} or the built-\/in one).   \\\cline{1-2}
\end{longtabu}


{\bfseries{Note\+:}} due to technical reasons, {\ttfamily Do\+Default()} cannot be used inside a composite action -\/ trying to do so will result in a run-\/time error.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md28}{}\doxysubsection{Composite Actions}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md28}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ }&\cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ }&\cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-2}
\endhead
{\ttfamily Do\+All(a1, a2, ..., an)}  &Do all actions {\ttfamily a1} to {\ttfamily an} and return the result of {\ttfamily an} in each invocation. The first {\ttfamily n -\/ 1} sub-\/actions must return void and will receive a readonly view of the arguments.   \\\cline{1-2}
{\ttfamily Ignore\+Result(a)}  &Perform action {\ttfamily a} and ignore its result. {\ttfamily a} must not return void.   \\\cline{1-2}
{\ttfamily With\+Arg$<$N$>$(a)}  &Pass the {\ttfamily N}-\/th (0-\/based) argument of the mock function to action {\ttfamily a} and perform it.   \\\cline{1-2}
{\ttfamily With\+Args$<$N1, N2, ..., Nk$>$(a)}  &Pass the selected (0-\/based) arguments of the mock function to action {\ttfamily a} and perform it.   \\\cline{1-2}
{\ttfamily Without\+Args(a)}  &Perform action {\ttfamily a} without any arguments.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md29}{}\doxysubsection{Defining Actions}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md29}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ }&\cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ }&\cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-2}
\endhead
{\ttfamily A\+C\+T\+I\+O\+N(\+Sum) \{ return arg0 + arg1; \}}  &Defines an action {\ttfamily Sum()} to return the sum of the mock function\textquotesingle{}s argument \#0 and \#1.   \\\cline{1-2}
{\ttfamily A\+C\+T\+I\+O\+N\+\_\+\+P(\+Plus, n) \{ return arg0 + n; \}}  &Defines an action {\ttfamily Plus(n)} to return the sum of the mock function\textquotesingle{}s argument \#0 and {\ttfamily n}.   \\\cline{1-2}
{\ttfamily A\+C\+T\+I\+O\+N\+\_\+\+Pk(\+Foo, p1, ..., pk) \{ statements; \}}  &Defines a parameterized action {\ttfamily Foo(p1, ..., pk)} to execute the given {\ttfamily statements}.   \\\cline{1-2}
\end{longtabu}


The {\ttfamily A\+C\+T\+I\+O\+N$\ast$} macros cannot be used inside a function or class.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_CardinalityList}{}\doxysection{Cardinalities}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_CardinalityList}
These are used in {\ttfamily Times()} to specify how many times a mock function will be called\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ }&\cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ }&\cellcolor{\tableheadbgcolor}\textbf{ }\\\cline{1-2}
\endhead
{\ttfamily Any\+Number()}  &The function can be called any number of times.   \\\cline{1-2}
{\ttfamily At\+Least(n)}  &The call is expected at least {\ttfamily n} times.   \\\cline{1-2}
{\ttfamily At\+Most(n)}  &The call is expected at most {\ttfamily n} times.   \\\cline{1-2}
{\ttfamily Between(m, n)}  &The call is expected between {\ttfamily m} and {\ttfamily n} (inclusive) times.   \\\cline{1-2}
{\ttfamily Exactly(n) or n}  &The call is expected exactly {\ttfamily n} times. In particular, the call should never happen when {\ttfamily n} is 0.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md30}{}\doxysection{Expectation Order}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md30}
By default, the expectations can be matched in {\itshape any} order. If some or all expectations must be matched in a given order, there are two ways to specify it. They can be used either independently or together.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_AfterClause}{}\doxysubsection{The After Clause}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_AfterClause}

\begin{DoxyCode}{0}
\DoxyCodeLine{using ::testing::Expectation;}
\DoxyCodeLine{...}
\DoxyCodeLine{Expectation init\_x = EXPECT\_CALL(foo, InitX());}
\DoxyCodeLine{Expectation init\_y = EXPECT\_CALL(foo, InitY());}
\DoxyCodeLine{EXPECT\_CALL(foo, Bar())}
\DoxyCodeLine{     .After(init\_x, init\_y);}
\end{DoxyCode}


says that {\ttfamily Bar()} can be called only after both {\ttfamily Init\+X()} and {\ttfamily Init\+Y()} have been called.

If you don\textquotesingle{}t know how many pre-\/requisites an expectation has when you write it, you can use an {\ttfamily Expectation\+Set} to collect them\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{using ::testing::ExpectationSet;}
\DoxyCodeLine{...}
\DoxyCodeLine{ExpectationSet all\_inits;}
\DoxyCodeLine{\textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < element\_count; i++) \{}
\DoxyCodeLine{  all\_inits += EXPECT\_CALL(foo, InitElement(i));}
\DoxyCodeLine{\}}
\DoxyCodeLine{EXPECT\_CALL(foo, Bar())}
\DoxyCodeLine{     .After(all\_inits);}
\end{DoxyCode}


says that {\ttfamily Bar()} can be called only after all elements have been initialized (but we don\textquotesingle{}t care about which elements get initialized before the others).

Modifying an {\ttfamily Expectation\+Set} after using it in an {\ttfamily .After()} doesn\textquotesingle{}t affect the meaning of the {\ttfamily .After()}.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_UsingSequences}{}\doxysubsection{Sequences}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_UsingSequences}
When you have a long chain of sequential expectations, it\textquotesingle{}s easier to specify the order using {\bfseries{sequences}}, which don\textquotesingle{}t require you to given each expectation in the chain a different name. {\itshape All expected calls} in the same sequence must occur in the order they are specified.


\begin{DoxyCode}{0}
\DoxyCodeLine{using ::testing::Return;}
\DoxyCodeLine{using ::testing::Sequence;}
\DoxyCodeLine{Sequence s1, s2;}
\DoxyCodeLine{...}
\DoxyCodeLine{EXPECT\_CALL(foo, Reset())}
\DoxyCodeLine{    .InSequence(s1, s2)}
\DoxyCodeLine{    .WillOnce(Return(\textcolor{keyword}{true}));}
\DoxyCodeLine{EXPECT\_CALL(foo, GetSize())}
\DoxyCodeLine{    .InSequence(s1)}
\DoxyCodeLine{    .WillOnce(Return(1));}
\DoxyCodeLine{EXPECT\_CALL(foo, Describe(A<const char*>()))}
\DoxyCodeLine{    .InSequence(s2)}
\DoxyCodeLine{    .WillOnce(Return(\textcolor{stringliteral}{"{}dummy"{}}));}
\end{DoxyCode}


says that {\ttfamily Reset()} must be called before {\itshape both} {\ttfamily Get\+Size()} {\itshape and} {\ttfamily Describe()}, and the latter two can occur in any order.

To put many expectations in a sequence conveniently\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{using ::testing::InSequence;}
\DoxyCodeLine{\{}
\DoxyCodeLine{  InSequence seq;}
\DoxyCodeLine{}
\DoxyCodeLine{  EXPECT\_CALL(...)...;}
\DoxyCodeLine{  EXPECT\_CALL(...)...;}
\DoxyCodeLine{  ...}
\DoxyCodeLine{  EXPECT\_CALL(...)...;}
\DoxyCodeLine{\}}
\end{DoxyCode}


says that all expected calls in the scope of {\ttfamily seq} must occur in strict order. The name {\ttfamily seq} is irrelevant.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md31}{}\doxysection{Verifying and Resetting a Mock}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md31}
g\+Mock will verify the expectations on a mock object when it is destructed, or you can do it earlier\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{using ::testing::Mock;}
\DoxyCodeLine{...}
\DoxyCodeLine{\textcolor{comment}{// Verifies and removes the expectations on mock\_obj;}}
\DoxyCodeLine{\textcolor{comment}{// returns true if and only if successful.}}
\DoxyCodeLine{Mock::VerifyAndClearExpectations(\&mock\_obj);}
\DoxyCodeLine{...}
\DoxyCodeLine{\textcolor{comment}{// Verifies and removes the expectations on mock\_obj;}}
\DoxyCodeLine{\textcolor{comment}{// also removes the default actions set by ON\_CALL();}}
\DoxyCodeLine{\textcolor{comment}{// returns true if and only if successful.}}
\DoxyCodeLine{Mock::VerifyAndClear(\&mock\_obj);}
\end{DoxyCode}


You can also tell g\+Mock that a mock object can be leaked and doesn\textquotesingle{}t need to be verified\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{Mock::AllowLeak(\&mock\_obj);}
\end{DoxyCode}
\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md32}{}\doxysection{Mock Classes}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md32}
g\+Mock defines a convenient mock class template


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{class }MockFunction<R(A1, ..., An)> \{}
\DoxyCodeLine{ \textcolor{keyword}{public}:}
\DoxyCodeLine{  MOCK\_METHOD(R, Call, (A1, ..., An));}
\DoxyCodeLine{\};}
\end{DoxyCode}


See this \href{cook_book.md\#using-check-points}{\texttt{ recipe}} for one application of it.\hypertarget{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md33}{}\doxysection{Flags}\label{md_lib_googletest-master_googlemock_docs_cheat_sheet_autotoc_md33}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Flag  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Flag  }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }\\\cline{1-2}
\endhead
{\ttfamily -\/-\/gmock\+\_\+catch\+\_\+leaked\+\_\+mocks=0}  &Don\textquotesingle{}t report leaked mock objects as failures.   \\\cline{1-2}
{\ttfamily -\/-\/gmock\+\_\+verbose=L\+E\+V\+EL}  &Sets the default verbosity level ({\ttfamily info}, {\ttfamily warning}, or {\ttfamily error}) of Google \mbox{\hyperlink{class_mock}{Mock}} messages.   \\\cline{1-2}
\end{longtabu}
